@using Microsoft.AspNetCore.Http

@{
    CommunityModel Comunidad = Html.GetComunidad();
}

@* JS y libererías para el sitio web - Theme *@
<!-- JQUERY -->
<script src="//code.jquery.com/jquery-3.7.1.min.js" 
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" 
        crossorigin="anonymous"></script>

<!-- JQUERYUI -->
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.min.js" 
        integrity="sha256-sw0iNNXmOJbQhYFuC9OF2kOlD5KQKe1y5lfBn4C9Sjg=" 
        crossorigin="anonymous"></script>

<!-- jQuery DateTimePicker -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js" 
        integrity="sha512-AIOTidJAcHBH2G/oZv9viEGXRqDNmfdPVPYOYKGy3fti0xIplnlgMHUGfuNRzC6FkzIo0iIxgFnr9RikFxK+sw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- Waypoints (Scrolling) -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/waypoints/jquery.waypoints.min.js?v=@Html.GetVersion()"></script>

<!-- POPPER + BOOTSTRAP 4 + PROPELLER -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>

<script src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/bootstrap/bootstrap.min.js?v=@Html.GetVersion()"></script>
<script src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/propeller/js/propeller.js?v=@Html.GetVersion()"></script>

<!-- TinyMCE -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/tinymce/js/tinymce/tinymce.min.js?v=@Html.GetVersion()"></script>

<!-- TinyMCE Config -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/tinymce/js/tinymce/tinymceConfig.js?v=@Html.GetVersion()"></script>

<!-- Zooming -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/zooming/zooming.min.js?v=@Html.GetVersion()"></script>

<!-- UNIFICADO JS -->
<script type="text/javascript" src="@Html.GetBaseUrlStatic()/js/unificado.js?v=@Html.GetVersion()"></script>

@if(Html.ViewBag.NotificacionesPushConfiguradas){
    <!--NOTIFICACIONES PUSH-->
    <script type="text/javascript" src="@Html.GetBaseUrlStatic()/js/login/push-notification.js?v=@Html.GetVersion()"></script>
}

<!-- AUTOCOMPLETE -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/autocomplete/jquery.autocomplete.js?v=@Html.GetVersion()"></script>

<!-- DATATABLES -->
<script type="text/javascript"
        src="https://cdn.datatables.net/v/bs4/dt-1.11.3/b-2.1.1/b-html5-2.1.1/fc-4.0.1/fh-3.2.1/r-2.2.9/sc-2.0.5/sl-1.3.4/datatables.min.js" defer></script>

<!-- CUSTOM SCROLLBAR -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/customscroller/js/jquery.mCustomScrollbar.concat.min.js?v=@Html.GetVersion()"></script>

<!-- JQUERY PROGRESS BAR TIME -->
@* Documentación: https://www.jqueryscript.net/time-clock/Countdown-Timers-Bootstrap-4-Progressbar.html *@
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/progressBarTime/jquery.progressBarTimer.min.js?v=@Html.GetVersion()" defer></script>

<!-- JQUERY SLIDE REVEAL -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/slidereveal/jquery.slidereveal.min.js?v=@Html.GetVersion()"></script>

<!-- SELECT2 -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/select2/js/select2.min.js?v=@Html.GetVersion()"></script>

<!-- MomentJS -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/momentJS/moment.js?v=@Html.GetVersion()"></script>
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/momentJS/moment-timezone-with-data.js?v=@Html.GetVersion()"></script>

<!-- Toastr -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/toastr/toastr.min.js?v=@Html.GetVersion()" defer></script>

<!-- Google no cookies -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/cookies/googleNoCookies.js?v=@Html.GetVersion()"></script>

<!-- Simple Donut -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/simple-donut/simple-donut.js?v=@Html.GetVersion()"></script>

<!-- Owl Carousel -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/owl-carousel/js/owl.carousel.min.js?v=@Html.GetVersion()"></script>

<!-- BusyLoad - Vistas para Loading -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/busy-load/app.min.js?v=@Html.GetVersion()" defer></script>

<!-- PERSONALIZACION JS TEMA  -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/theme.js?v=@Html.GetVersion()"></script>

<!-- Visualizador Prism para Code en TinyMCE -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/prism/prism.js?v=@Html.GetVersion()"></script>

<!-- Dirty Form -->
<script type="text/javascript"
        src="@Html.GetBaseUrlStatic()/responsive/theme/libraries/dirty-form/jquery.dirty.js?v=@Html.GetVersion()" defer></script>

<!-- Chartjs -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script>
    google.charts.load('current', { 'packages': ['table'] });
</script>

<!-- Highcharts -->
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/heatmap.js"></script>

@{
    string idioma = Html.GetUtilIdiomas().LanguageCode;

    if (idioma.Contains("-"))
    {
        idioma = idioma.Substring(0, idioma.IndexOf('-'));
    }
}
<script type="text/javascript" src="@Html.GetBaseUrlStatic()/lang/@idioma/text.js?v=@Html.GetVersion()"></script>


@if (Html.GetListaJS() != null)
{
    foreach (string js in Html.GetListaJS())
    {
        if (js.StartsWith("defer/"))
        {
            <script type="text/javascript" src="@js.Substring(6)" defer="defer"></script>
        }
        else
        {
            <script type="text/javascript" src="@js"></script>
        }
    }
}

@Html.PartialView("../Shared/Head/_FicherosJavascriptPersonalizado")

@* Código Google Analytics*@
@if (Html.GetGoogleAnalytics() != null && Context.Request.Cookies["analiticas"] != null && Context.Request.Cookies["analiticas"].Equals("yes"))
{
    if (Comunidad.IntegracionContinuaActivada)
    {
        if (Comunidad.EntornoEsPro)
        {
            <script type="text/javascript">@Html.Raw(Html.GetGoogleAnalytics())</script>
        }
    }
    else
    {
        <script type="text/javascript">    @Html.Raw(Html.GetGoogleAnalytics())</script>
    }

}

<script type="text/javascript">
    var metaEtiquetasOntologia = '@Html.Raw(Html.GetMetaEtiquetasXMLOntologias())';
    var metaEtiquetasOntologiaJSON = JSON.parse(metaEtiquetasOntologia);
</script>